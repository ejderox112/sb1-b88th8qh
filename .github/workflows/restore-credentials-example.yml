name: Restore Credentials (example)

on:
  workflow_dispatch:

jobs:
  restore-credentials:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Restore credentials.json
        env:
          CREDENTIALS_JSON_BASE64: ${{ secrets.CREDENTIALS_JSON_BASE64 }}
        run: |
          chmod +x ci/restore-credentials.sh
          ci/restore-credentials.sh

      - name: Optionally restore keystore and certs from secrets (example)
        if: false
        env:
          KEYSTORE_BASE64: ${{ secrets.KEYSTORE_BASE64 }}
          DIST_P12_BASE64: ${{ secrets.DIST_P12_BASE64 }}
          PROFILE_BASE64: ${{ secrets.PROFILE_BASE64 }}
        run: |
          echo "$KEYSTORE_BASE64" | base64 -d > android/keystores/release.keystore
          echo "$DIST_P12_BASE64" | base64 -d > ios/certs/dist.p12
          echo "$PROFILE_BASE64" | base64 -d > ios/certs/profile.mobileprovision

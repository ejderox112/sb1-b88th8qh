# ğŸ—ºï¸ Mekan Ã–neri Workflow - Visual Guide

## ğŸ“± KullanÄ±cÄ± AkÄ±ÅŸÄ± (User Flow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ‘¤ Normal KullanÄ±cÄ±                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Profil SayfasÄ±      â”‚
                   â”‚  (tabs)/profile.tsx  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ ğŸ¥ Mekan Ã–ner        â”‚
                   â”‚ (butona tÄ±kla)       â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚    SuggestVenueScreen.tsx              â”‚
         â”‚                                        â”‚
         â”‚  [1] Mekan Tipini SeÃ§                  â”‚
         â”‚      ğŸ¥ Hastane / ğŸ›ï¸ AVM / âœˆï¸ HavalimanÄ±â”‚
         â”‚      ğŸ“ Ãœniversite / ğŸ¢ Ofis / ğŸ¨ Otel  â”‚
         â”‚                                        â”‚
         â”‚  [2] Mekan Bilgileri                   â”‚
         â”‚      â€¢ Ad (min 3 karakter)             â”‚
         â”‚      â€¢ Adres (max 200 karakter)        â”‚
         â”‚      â€¢ Kat sayÄ±sÄ± (1-50)               â”‚
         â”‚                                        â”‚
         â”‚  [3] GPS KoordinatlarÄ±                 â”‚
         â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚      â”‚ ğŸ“ Konumumuâ”‚  â”‚ Manuel GiriÅŸ â”‚ â”‚
         â”‚      â”‚    Al      â”‚  â”‚  Lat / Lng   â”‚ â”‚
         â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â”‚                                        â”‚
         â”‚  [4] AÃ§Ä±klama (opsiyonel, max 500)    â”‚
         â”‚                                        â”‚
         â”‚  [5] âœ‰ï¸ Ã–neriyi GÃ¶nder                 â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Supabase Database   â”‚
                   â”‚  venue_suggestions   â”‚
                   â”‚  status: 'pending'   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Rate Limiting Check  â”‚
                   â”‚ (max 5/saat)         â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼                           â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ âœ… BaÅŸarÄ±lÄ±       â”‚       â”‚ âŒ Limit AÅŸÄ±ldÄ±   â”‚
      â”‚ "Ã–neri gÃ¶nderildi"â”‚       â”‚ "Saatte max 5"   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ Admin Moderasyon AkÄ±ÅŸÄ±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ğŸ”‘ Admin (ejderha112@gmail.com)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Profil SayfasÄ±      â”‚
                   â”‚  Admin butonlarÄ±     â”‚
                   â”‚  gÃ¶rÃ¼nÃ¼r             â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ ğŸ—ºï¸ Mekan Ã–nerileri   â”‚
                   â”‚ Moderasyonu (yeÅŸil)  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  AdminVenueModerationScreen.tsx        â”‚
         â”‚                                        â”‚
         â”‚  [Filtreler]                           â”‚
         â”‚  â³ Bekleyen | âœ… OnaylÄ± | âŒ Reddedilenâ”‚
         â”‚  ğŸš« Spam                                â”‚
         â”‚                                        â”‚
         â”‚  [Arama]                               â”‚
         â”‚  ğŸ” Mekan / adres / kullanÄ±cÄ± ara      â”‚
         â”‚                                        â”‚
         â”‚  [Ã–neri KartÄ±]                         â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
         â”‚  â”‚ ğŸ¥ Ä°zmir Åehir Hastanesi       â”‚   â”‚
         â”‚  â”‚ ğŸ“ BayraklÄ±, Ä°zmir             â”‚   â”‚
         â”‚  â”‚                                â”‚   â”‚
         â”‚  â”‚ ğŸ‘¤ user_nickname                â”‚   â”‚
         â”‚  â”‚ ğŸ• 2 saat Ã¶nce                  â”‚   â”‚
         â”‚  â”‚ ğŸ¢ 5 kat                        â”‚   â”‚
         â”‚  â”‚                                â”‚   â”‚
         â”‚  â”‚ [GeniÅŸlet] â–¼                   â”‚   â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  DetaylÄ± GÃ¶rÃ¼nÃ¼m (GeniÅŸletilmiÅŸ)       â”‚
         â”‚                                        â”‚
         â”‚  â€¢ ğŸ“§ E-posta: user@example.com        â”‚
         â”‚  â€¢ ğŸ†” KullanÄ±cÄ± Kodu: ABC123           â”‚
         â”‚  â€¢ ğŸŒ GPS: 38.461300, 27.206900        â”‚
         â”‚  â€¢ ğŸ“ AÃ§Ä±klama: ...                    â”‚
         â”‚                                        â”‚
         â”‚  [Moderasyon Notu Gir]                 â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
         â”‚  â”‚ Karar nedeni veya ek bilgi...  â”‚   â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
         â”‚                                        â”‚
         â”‚  [Karar ButonlarÄ±]                     â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚ âœ… Onaylaâ”‚ âŒ Reddetâ”‚ ğŸš« Spam     â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼                  â–¼                  â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ âœ… ONAYLA       â”‚ â”‚ âŒ REDDET    â”‚ â”‚ ğŸš« SPAM         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                  â”‚                  â”‚
           â–¼                  â–¼                  â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ 1. Update       â”‚ â”‚ 1. Update   â”‚ â”‚ 1. Update       â”‚
  â”‚ suggestion:     â”‚ â”‚ suggestion: â”‚ â”‚ suggestion:     â”‚
  â”‚ status='approvedâ”‚ â”‚ status=     â”‚ â”‚ status='spam'   â”‚
  â”‚                 â”‚ â”‚ 'rejected'  â”‚ â”‚                 â”‚
  â”‚ 2. INSERT INTO  â”‚ â”‚             â”‚ â”‚ 2. Check spam   â”‚
  â”‚ indoor_venues   â”‚ â”‚ 2. Send     â”‚ â”‚ count (3+?)     â”‚
  â”‚                 â”‚ â”‚ notificationâ”‚ â”‚                 â”‚
  â”‚ 3. Send success â”‚ â”‚ to user     â”‚ â”‚ 3. Restrict     â”‚
  â”‚ notification    â”‚ â”‚             â”‚ â”‚ user account    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” GÃ¼venlik KatmanlarÄ± (Security Layers)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸ”’ Security Layers                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    [KullanÄ±cÄ± Form GÃ¶nderimi]
                              â”‚
                              â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Layer 1: Client-Side Validation      â”‚
          â”‚  âœ“ Form validasyonu (3+ karakter)     â”‚
          â”‚  âœ“ GPS koordinat kontrolÃ¼ (-90/90)    â”‚
          â”‚  âœ“ Dosya boyutu kontrolÃ¼ (10MB)       â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Layer 2: Rate Limiting (Supabase)    â”‚
          â”‚  âœ“ Trigger: check_rate_limit()        â”‚
          â”‚  âœ“ Max 5 Ã¶neri/saat                   â”‚
          â”‚  âœ“ Exception: "Limit aÅŸÄ±ldÄ±"          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Layer 3: Database Constraints        â”‚
          â”‚  âœ“ NOT NULL checks                    â”‚
          â”‚  âœ“ CHECK constraints (venue_type)     â”‚
          â”‚  âœ“ Foreign key integrity              â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Layer 4: RLS Policies                â”‚
          â”‚  âœ“ auth.uid() = user_id check         â”‚
          â”‚  âœ“ Admin-only update permission       â”‚
          â”‚  âœ“ Public read approved only          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Layer 5: File Security (Future)      â”‚
          â”‚  â³ SHA-256 hash kontrolÃ¼              â”‚
          â”‚  â³ Virus scan (VirusTotal/ClamAV)    â”‚
          â”‚  â³ MIME type validation               â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Layer 6: Abuse Detection             â”‚
          â”‚  âœ“ Spam counter (3+ spam = restrict)  â”‚
          â”‚  âœ“ user_restrictions table            â”‚
          â”‚  âœ“ Security alerts logging            â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Database Schema Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Database Tables                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   auth.users        â”‚
â”‚  (Supabase Auth)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID)           â”‚â—„â”€â”€â”€â”
â”‚ email               â”‚    â”‚
â”‚ created_at          â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                           â”‚
                           â”‚ user_id FK
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  user_profiles      â”‚    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ user_id (UUID) PK   â”‚â”€â”€â”€â”€â”¤
â”‚ nickname            â”‚    â”‚
â”‚ email               â”‚    â”‚
â”‚ level               â”‚    â”‚
â”‚ xp                  â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  admin_users        â”‚    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ id (UUID) PK        â”‚    â”‚
â”‚ email (UNIQUE)      â”‚    â”‚
â”‚ role                â”‚    â”‚
â”‚ is_active           â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ venue_suggestions   â”‚    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ id (UUID) PK        â”‚    â”‚
â”‚ user_id (UUID) FK   â”‚â”€â”€â”€â”€â”˜
â”‚ name                â”‚
â”‚ address             â”‚
â”‚ latitude            â”‚
â”‚ longitude           â”‚
â”‚ venue_type          â”‚â—„â”€â”€ CHECK ('hospital','mall',...)
â”‚ description         â”‚
â”‚ floor_count         â”‚
â”‚ status              â”‚â—„â”€â”€ CHECK ('pending','approved','rejected','spam')
â”‚ moderation_notes    â”‚
â”‚ moderated_by (UUID) â”‚â”€â”€â”€â”€â”
â”‚ moderated_at        â”‚    â”‚
â”‚ created_at          â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                           â”‚
                           â”‚ moderated_by FK
                           â”‚
                     â”Œâ”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  indoor_venues      â”‚â—„â”€â”€ Created when status='approved'
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID) PK        â”‚
â”‚ name                â”‚
â”‚ address             â”‚
â”‚ latitude            â”‚
â”‚ longitude           â”‚
â”‚ venue_type          â”‚
â”‚ floor_count         â”‚
â”‚ created_by (UUID)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ venue_id FK
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  indoor_floors      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID) PK        â”‚
â”‚ venue_id (UUID) FK  â”‚
â”‚ floor_number        â”‚
â”‚ blueprint_url       â”‚
â”‚ blueprint_width     â”‚
â”‚ blueprint_height    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ floor_id FK
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  indoor_nodes       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID) PK        â”‚
â”‚ floor_id (UUID) FK  â”‚
â”‚ x (FLOAT)           â”‚
â”‚ y (FLOAT)           â”‚
â”‚ type                â”‚â—„â”€â”€ 'corridor','room','entrance','elevator','stairs'
â”‚ label               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  file_uploads       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID) PK        â”‚
â”‚ user_id (UUID) FK   â”‚
â”‚ file_hash (SHA-256) â”‚â—„â”€â”€ Unique hash
â”‚ file_type           â”‚â—„â”€â”€ CHECK ('blueprint','avatar','photo')
â”‚ file_size (BIGINT)  â”‚â—„â”€â”€ Max limits enforced
â”‚ virus_scan_status   â”‚â—„â”€â”€ CHECK ('pending','clean','infected','error')
â”‚ storage_path        â”‚
â”‚ uploaded_at         â”‚
â”‚ scanned_at          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  abuse_reports      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID) PK        â”‚
â”‚ reporter_id (UUID)  â”‚
â”‚ reported_user_id    â”‚
â”‚ reported_venue_id   â”‚
â”‚ report_type         â”‚â—„â”€â”€ CHECK ('spam','harassment',...)
â”‚ description         â”‚
â”‚ status              â”‚â—„â”€â”€ CHECK ('pending','reviewed',...)
â”‚ reviewed_by (UUID)  â”‚
â”‚ reviewed_at         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ user_restrictions   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ user_id (UUID) PK   â”‚
â”‚ is_banned           â”‚
â”‚ can_suggest_venues  â”‚â—„â”€â”€ false if 3+ spam
â”‚ can_upload_files    â”‚
â”‚ restriction_reason  â”‚
â”‚ restricted_by       â”‚
â”‚ expires_at          â”‚â—„â”€â”€ NULL = permanent
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ KullanÄ±m SenaryolarÄ±

### Senaryo 1: Normal KullanÄ±cÄ± Mekan Ã–neriyor

```
1. KullanÄ±cÄ± giriÅŸ yapar (Google OAuth)
2. Profil sayfasÄ±na gider
3. "ğŸ¥ Mekan Ã–ner" butonuna tÄ±klar
4. Form aÃ§Ä±lÄ±r:
   - Mekan adÄ±: "Ä°zmir Åehir Hastanesi"
   - Tip: ğŸ¥ Hastane
   - Adres: "BayraklÄ±, Ä°zmir"
   - GPS: ğŸ“ Konumumu Al (otomatik: 38.4613, 27.2069)
   - Kat: 5
   - AÃ§Ä±klama: "Acil servis, poliklinikler, ameliyathaneler var"
5. âœ‰ï¸ Ã–neriyi GÃ¶nder
6. Supabase:
   - Rate limit check âœ… (ilk Ã¶neri)
   - INSERT INTO venue_suggestions âœ…
   - Status: 'pending' âœ…
7. KullanÄ±cÄ±ya mesaj: "âœ… Ã–neriniz gÃ¶nderildi! Admin onayÄ±nÄ± bekliyor."
```

### Senaryo 2: Admin Ã–neriyi OnaylÄ±yor

```
1. Admin giriÅŸ yapar (ejderha112@gmail.com)
2. Profil -> ğŸ—ºï¸ Mekan Ã–nerileri Moderasyonu
3. â³ Bekleyen filtresi seÃ§ili (varsayÄ±lan)
4. "Ä°zmir Åehir Hastanesi" kartÄ±nÄ± aÃ§ar
5. DetaylarÄ± inceler:
   - GPS doÄŸru âœ…
   - Adres doÄŸru âœ…
   - KullanÄ±cÄ± gÃ¼venilir âœ…
6. Moderasyon notu: "Koordinatlar doÄŸrulandÄ±"
7. âœ… Onayla butonuna tÄ±klar
8. Supabase:
   - UPDATE venue_suggestions SET status='approved' âœ…
   - INSERT INTO indoor_venues (name, address, lat, lng...) âœ…
   - Notification to user âœ…
9. Admin'e mesaj: "âœ… Ã–neri onaylandÄ± ve sisteme eklendi!"
10. KullanÄ±cÄ±ya bildirim: "âœ… Ã–neriniz onaylandÄ±: Ä°zmir Åehir Hastanesi"
```

### Senaryo 3: Spam Tespit ve KullanÄ±cÄ± KÄ±sÄ±tlama

```
1. KÃ¶tÃ¼ niyetli kullanÄ±cÄ± 6 sahte mekan Ã¶neriyor
2. Ä°lk 5 Ã¶neri geÃ§er (rate limit)
3. 6. Ã¶neri:
   - Rate limit trigger fires âŒ
   - Exception: "Saatte en fazla 5 mekan Ã¶nerisi"
   - Ã–neri kaydedilmez âŒ
4. Admin ilk 3 Ã¶neriyi inceler
5. Her birini ğŸš« Spam olarak iÅŸaretler
6. 3. spam'den sonra:
   - INSERT INTO user_restrictions (user_id, can_suggest_venues=false) âœ…
   - Notification to user: "ğŸš« HesabÄ±nÄ±z kÄ±sÄ±tlanmÄ±ÅŸtÄ±r: 3 spam Ã¶neri"
7. KullanÄ±cÄ± artÄ±k mekan Ã¶nerisi yapamaz âŒ
8. Yeni Ã¶neri denerse:
   - check_user_restrictions() trigger fires âŒ
   - Exception: "Mekan Ã¶nerisi yapma yetkiniz kÄ±sÄ±tlanmÄ±ÅŸ"
```

---

## ğŸ“± Ekran GÃ¶rÃ¼nÃ¼mleri (Mockup)

### SuggestVenueScreen.tsx
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Geri          ğŸ“ Mekan Ã–ner      â”‚
â”‚                                     â”‚
â”‚ BildiÄŸiniz hastane, AVM veya bÃ¼yÃ¼k â”‚
â”‚ binalarÄ± sisteme ekleyin            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ Mekan AdÄ± *                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Ã¶r: Ä°zmir Åehir Hastanesi       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ Mekan Tipi *                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ğŸ¥ Has â”‚ğŸ›ï¸ AVM â”‚âœˆï¸ Havaâ”‚ğŸ“ Ãœni   â”‚ â”‚
â”‚ â”‚ tane  â”‚       â”‚limanÄ± â”‚versite â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ğŸ¢ Ofisâ”‚ğŸ¨ Otelâ”‚ğŸ“ DiÄŸerâ”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                     â”‚
â”‚ Adres *                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Tam adres (Mahalle, sokak...)   â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ GPS KoordinatlarÄ± *                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ Enlem: 38.461300 â”‚ â”‚ğŸ“ Konumumu â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   Al       â”‚â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ â”‚ Boylam: 27.206900â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                     â”‚
â”‚ Kat SayÄ±sÄ± *                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚ â”‚  5   â”‚                            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                     â”‚
â”‚ AÃ§Ä±klama (Opsiyonel)                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Acil servis, poliklinikler var  â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ 45/500 karakter                     â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚     âœ‰ï¸ Ã–neriyi GÃ¶nder            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â„¹ï¸ Bilgilendirme                    â”‚
â”‚ â€¢ Ã–nerileriniz admin onaylar        â”‚
â”‚ â€¢ Saatte en fazla 5 Ã¶neri           â”‚
â”‚ â€¢ Spam Ã¶neriler kÄ±sÄ±tlanÄ±r          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AdminVenueModerationScreen.tsx
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Geri   ğŸ—ºï¸ Mekan Moderasyonu       â”‚
â”‚ 12 Ã¶neri                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â³ Bekleyen â”‚ âœ… OnaylÄ± â”‚ âŒ Reddet  â”‚
â”‚                        â”‚ ğŸš« Spam    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Mekan veya kullanÄ±cÄ± ara...      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ¥ Ä°zmir Åehir Hastanesi   â³   â”‚ â”‚
â”‚ â”‚ ğŸ“ BayraklÄ±, Ä°zmir              â”‚ â”‚
â”‚ â”‚ ğŸ‘¤ user123 â€¢ ğŸ• 2 saat Ã¶nce     â”‚ â”‚
â”‚ â”‚ ğŸ¢ 5 kat                         â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ [GeniÅŸlet] â–¼                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ›ï¸ Forum Bornova AVM      â³    â”‚ â”‚
â”‚ â”‚ ğŸ“ Bornova, Ä°zmir               â”‚ â”‚
â”‚ â”‚ ğŸ‘¤ test_user â€¢ ğŸ• 5 saat Ã¶nce   â”‚ â”‚
â”‚ â”‚ ğŸ¢ 3 kat                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âœˆï¸ Ä°zmir Adnan Menderes    âœ…   â”‚ â”‚
â”‚ â”‚ ğŸ“ Gaziemir, Ä°zmir              â”‚ â”‚
â”‚ â”‚ ğŸ‘¤ admin â€¢ ğŸ• 1 gÃ¼n Ã¶nce         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[GeniÅŸletilmiÅŸ Kart]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¥ Ä°zmir Åehir Hastanesi            â”‚
â”‚ ğŸ“ BayraklÄ±, Ä°zmir                  â”‚
â”‚                                     â”‚
â”‚ ğŸ‘¤ user_nickname                    â”‚
â”‚ ğŸ• 2 saat Ã¶nce â€¢ ğŸ¢ 5 kat            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“§ E-posta: user@example.com        â”‚
â”‚ ğŸ†” KullanÄ±cÄ± Kodu: ABC123XYZ        â”‚
â”‚ ğŸŒ GPS: 38.461300, 27.206900 ğŸ—ºï¸    â”‚
â”‚ ğŸ“ AÃ§Ä±klama: Acil servis, polikli-  â”‚
â”‚    nikler, ameliyathaneler mevcut   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ Moderasyon Notu (Opsiyonel)      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Koordinatlar Google Maps'te     â”‚ â”‚
â”‚ â”‚ doÄŸrulandÄ±                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚âœ… Onaylaâ”‚âŒ Reddetâ”‚ğŸš« Spam      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— Ä°lgili Dosyalar

### Frontend (React Native)
- `app/SuggestVenueScreen.tsx` - KullanÄ±cÄ± Ã¶neri formu
- `app/AdminVenueModerationScreen.tsx` - Admin moderasyon paneli
- `app/(tabs)/profile.tsx` - Navigasyon butonlarÄ±

### Backend (Supabase)
- `supabase/TODO_MIGRATIONS.sql` - 14 adet migration (TODO #5, #6, #13, #14)
- `supabase/indoor-mapping-schema.sql` - Ä°Ã§ mekan harita ÅŸemasÄ±
- `supabase/add-admin-user.sql` - Admin kullanÄ±cÄ± ekleme

### DokÃ¼mantasyon
- `USER_CONTRIBUTION_SYSTEM.md` - KullanÄ±cÄ± Ã¶neri sistemi rehberi
- `SECURITY_INFRASTRUCTURE.md` - GÃ¼venlik altyapÄ±sÄ± detaylarÄ±
- `INDOOR_MAPPING_GUIDE.md` - Admin harita editÃ¶rÃ¼ kÄ±lavuzu
- `QUICK_START.md` - HÄ±zlÄ± baÅŸlangÄ±Ã§ rehberi

---

## ğŸ“ GeliÅŸtiriciler Ä°Ã§in Notlar

### TypeScript Tip TanÄ±mlarÄ±
```typescript
// types/venueModels.ts (oluÅŸturulmasÄ± Ã¶nerilir)

export interface VenueSuggestion {
  id: string;
  user_id: string;
  name: string;
  address: string;
  latitude: number;
  longitude: number;
  venue_type: 'hospital' | 'mall' | 'airport' | 'university' | 'office' | 'hotel' | 'other';
  description: string | null;
  floor_count: number;
  status: 'pending' | 'approved' | 'rejected' | 'spam';
  moderation_notes: string | null;
  moderated_by: string | null;
  moderated_at: string | null;
  created_at: string;
}

export interface IndoorVenue {
  id: string;
  name: string;
  address: string;
  latitude: number;
  longitude: number;
  venue_type: string;
  floor_count: number;
  created_by: string;
  created_at: string;
}
```

### Test KomutlarÄ±
```bash
# TypeScript type check
npx tsc --noEmit

# Expo development server
npm run dev

# Android emulator
npm run android

# iOS simulator
npm run ios

# Clear cache
npx expo start -c
```

### Supabase SQL Test Queries
```sql
-- Pending Ã¶nerileri listele
SELECT * FROM venue_suggestions WHERE status = 'pending' ORDER BY created_at DESC;

-- KullanÄ±cÄ±nÄ±n toplam Ã¶neri sayÄ±sÄ±
SELECT COUNT(*) FROM venue_suggestions WHERE user_id = 'user-uuid';

-- Son 1 saat iÃ§indeki Ã¶neriler
SELECT * FROM venue_suggestions WHERE created_at > now() - interval '1 hour';

-- Spam kullanÄ±cÄ±larÄ± bul
SELECT user_id, COUNT(*) as spam_count
FROM venue_suggestions
WHERE status = 'spam'
GROUP BY user_id
HAVING COUNT(*) >= 3;

-- KÄ±sÄ±tlanmÄ±ÅŸ kullanÄ±cÄ±lar
SELECT * FROM user_restrictions WHERE can_suggest_venues = false;
```

---

**TamamlandÄ±! âœ…**
- Total 3 yeni ekran eklendi
- Security infrastructure oluÅŸturuldu
- Documentation tamamlandÄ±
